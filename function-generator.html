<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Function Generator</title>
</head>
<body>
  <script>
    /*
    -Function Generator adalah function yang digunakan untuk membuat data generator
    -Generator adalah data yang bisa di iterasi seperti array
    -Untuk membuat function generator, kita perlu menggunakan tanda * (bintang) setelah kata function
    -dan untuk mengembalikan data di tiap iterasi, kita bisa gunakana kata kunci yield diikuti datanya
    */

    /* #Lazy Evalution
    - Generator itu sifatnya lazy
    - jadi artinya jika kita tidak ada data belum kita ambil dari generator, maka yield selanjutnya tidak akan di eksekusi.
    */

    //function generator sederhana
    function* createName() {
      yield "Ardaya";
      yield "Imam";
      yield "Pratama";
    }

    const names = createName();
    for (const name of names) {
      console.log(name);
    }


    //function generator kompleks
    //lazy Generator, contohnya ada di document writeln.
    function* buatGanjil(value) {
      for (let i = 1; i <= value; i ++){
        if (i % 2 === 1) {
          document.writeln(`Yield ${i}`); //<= ini yang id maksud lazy generator 
          yield i 
        }
          
      }
       
    }

    //eager Generator, contohnya ada di console.log
    function buatGanjilArray(value){
      const result = [];
      for (let i = 1; i <= value; i++){
        if (i % 2 === 1) {
          console.info(`Yield ${i}`); 
          result.push(i);
        }

      }
      return result;
    }

    //memanggil eager Generator
    const numbers = buatGanjilArray(100);
    for (const angka of numbers) {
      console.info(angka);
    }
    
    //memanggil lazy generator
    const nilai = buatGanjil(100);
    for (const angka of nilai) {
      document.writeln(`<p>${angka}</p>`);
    }

  </script>
</body>
</html>